WEBVTT

00:00:01.016 --> 00:00:06.186 align:middle
Corre: composer recipes:update El
siguiente es doctrine-extensions-bundle.

00:00:06.746 --> 00:00:07.656 align:middle
Este...

00:00:07.846 --> 00:00:09.016 align:middle
cuando miramos...

00:00:09.346 --> 00:00:11.236 align:middle
¡sólo hay que modificar un comentario!

00:00:11.676 --> 00:00:13.836 align:middle
Fácil!. Así que confirma eso...

00:00:15.236 --> 00:00:17.456 align:middle
y luego pasa a debug-bundle.

00:00:18.706 --> 00:00:21.016 align:middle
Limpiaré la pantalla y ejecutaré eso.

00:00:21.976 --> 00:00:23.426 align:middle
Esto hizo dos cambios.

00:00:24.006 --> 00:00:30.516 align:middle
Ejecuta: git status El primer cambio fue que
eliminó un archivo específico del entorno...

00:00:31.016 --> 00:00:33.466 align:middle
y lo trasladó al archivo principal.

00:00:34.316 --> 00:00:42.346 align:middle
El segundo cambio, que no es muy habitual en las
actualizaciones de recetas, es que en config/bundles.php,

00:00:42.986 --> 00:00:49.096 align:middle
antes se cargaba DebugBundle en el
entorno dev y en el entorno test.

00:00:49.746 --> 00:00:53.256 align:middle
Ahora recomendamos cargarlo
sólo en el entorno dev.

00:00:54.016 --> 00:00:56.106 align:middle
Puedes cargarlo en el entorno test,

00:00:56.346 --> 00:01:00.626 align:middle
pero tiende a ralentizar las cosas,
así que se ha eliminado por defecto.

00:01:01.186 --> 00:01:03.276 align:middle
¡Es fácil! Confirma esos cambios...

00:01:03.776 --> 00:01:05.386 align:middle
¡y sigue adelante!

00:01:06.266 --> 00:01:08.656 align:middle
El siguiente es symfony/monolog-bundle.

00:01:09.316 --> 00:01:13.156 align:middle
Este sí tiene un conflicto,
pero es bastante sencillo.

00:01:13.976 --> 00:01:20.576 align:middle
Antes teníamos archivos específicos del
entorno en los directorios dev/, prod/ y test/.

00:01:21.376 --> 00:01:27.076 align:middle
Todos ellos se han trasladado al archivo
central config/packages/monolog.yaml.

00:01:27.886 --> 00:01:34.796 align:middle
La única razón por la que había un conflicto en mi
proyecto es porque previamente había creado este archivo

00:01:34.796 --> 00:01:38.356 align:middle
en un tutorial para añadir
un nuevo canal markdown.

00:01:39.216 --> 00:01:41.336 align:middle
Moveré mi canal markdown aquí abajo...

00:01:41.936 --> 00:01:43.436 align:middle
y mantendré el nuevo.

00:01:45.136 --> 00:01:51.316 align:middle
Debajo de esto, puedes ver la configuración dev para el
registro, la configuración test y la configuración prod.

00:01:52.216 --> 00:01:57.666 align:middle
De nuevo, si tenías una configuración personalizada
en tus archivos antiguos, asegúrate de traer la

00:01:57.666 --> 00:02:00.366 align:middle
al nuevo archivo para que no se pierda.

00:02:01.266 --> 00:02:02.486 align:middle
Añade estos cambios...

00:02:03.016 --> 00:02:04.126 align:middle
y... confirma.

00:02:05.076 --> 00:02:10.026 align:middle
Luego vuelve a la derecha: composer
recipes:update ¡Nos estamos acercando!

00:02:10.776 --> 00:02:12.376 align:middle
Actualiza symfony/routing.

00:02:15.706 --> 00:02:16.386 align:middle
Veamos.

00:02:16.836 --> 00:02:20.226 align:middle
Esto ha eliminado otro archivo de
configuración específico del entorno.

00:02:20.716 --> 00:02:22.346 align:middle
¡Sí! ¡Menos archivos!

00:02:23.646 --> 00:02:30.076 align:middle
También destaca una nueva configuración de
default_uri que debes establecer si alguna vez necesitas

00:02:30.076 --> 00:02:33.866 align:middle
generar URLs absolutas
desde dentro de un comando.

00:02:34.806 --> 00:02:41.456 align:middle
Antes lo hacías configurando los
parámetros de router.request_context.

00:02:42.096 --> 00:02:45.236 align:middle
Ahora es más fácil, y esto lo anuncia.

00:02:46.106 --> 00:02:46.856 align:middle
Confirma esto...

00:02:47.746 --> 00:02:49.726 align:middle
¡y sigamos adelante!

00:02:50.706 --> 00:02:53.496 align:middle
Hemos llegado a symfony/security-bundle.

00:02:54.076 --> 00:02:55.516 align:middle
Este tiene un conflicto...

00:02:57.226 --> 00:03:01.226 align:middle
y está dentro de
config/packages/security.yaml.

00:03:02.086 --> 00:03:04.526 align:middle
Están ocurriendo algunas cosas importantes.

00:03:05.006 --> 00:03:09.056 align:middle
La actualización de la receta ha añadido
enable_authenticator_manager: true.

00:03:09.676 --> 00:03:12.026 align:middle
Esto habilita el nuevo sistema de seguridad.

00:03:12.646 --> 00:03:14.326 align:middle
Hablaremos de ello más adelante.

00:03:14.786 --> 00:03:20.756 align:middle
Por ahora, pon esto en false para que sigamos
utilizando el antiguo sistema de seguridad.

00:03:21.416 --> 00:03:26.676 align:middle
También ha añadido algo llamado
password_hashers, que sustituye a encoders.

00:03:27.346 --> 00:03:29.956 align:middle
También vamos a hablar de eso más adelante.

00:03:30.646 --> 00:03:33.946 align:middle
Por ahora, quiero que mantengas ambas cosas.

00:03:35.436 --> 00:03:38.186 align:middle
También hay un conflicto en el cortafuegos.

00:03:38.916 --> 00:03:44.046 align:middle
El cambio importante es que la
nueva receta tiene lazy: true.

00:03:44.886 --> 00:03:49.946 align:middle
Eso sustituye a anonymous: lazy, así que
podemos seguir adelante y mantener ese cambio...

00:03:50.206 --> 00:03:52.576 align:middle
pero utilizar el resto de nuestro cortafuegos.

00:03:54.406 --> 00:03:59.856 align:middle
Ah, y en la parte inferior, tenemos una
nueva y brillante sección when@test,

00:04:00.376 --> 00:04:02.816 align:middle
que establece un hasher de
contraseña personalizado.

00:04:03.376 --> 00:04:04.406 align:middle
Puedes leer el comentario.

00:04:04.946 --> 00:04:10.606 align:middle
Esto acelera tus pruebas haciendo mucho
más rápido el hash de las contraseñas

00:04:10.636 --> 00:04:16.276 align:middle
en el entorno de pruebas, donde no nos importa
la seguridad de nuestro algoritmo de hash.

00:04:17.116 --> 00:04:18.046 align:middle
Vamos a añadir los archivos...

00:04:20.906 --> 00:04:22.586 align:middle
y sigamos adelante.

00:04:23.416 --> 00:04:25.596 align:middle
Lo siguiente es symfony/translation.

00:04:26.246 --> 00:04:28.106 align:middle
Esto no es importante...

00:04:28.496 --> 00:04:31.356 align:middle
sólo muestra algunas opciones
de configuración nuevas.

00:04:31.816 --> 00:04:34.016 align:middle
Todas están comentadas, así que...

00:04:34.016 --> 00:04:36.786 align:middle
son interesantes de ver,
pero no son importantes.

00:04:37.656 --> 00:04:39.296 align:middle
Confirma y...

00:04:39.436 --> 00:04:40.286 align:middle
¡sigue!

00:04:41.186 --> 00:04:43.156 align:middle
Lo siguiente es symfony/validator.

00:04:43.516 --> 00:04:47.236 align:middle
Es muy sencillo Esto movió la configuración

00:04:47.236 --> 00:04:53.026 align:middle
de config/test/validator.yaml
al principal validator.yaml.

00:04:53.656 --> 00:04:54.786 align:middle
¡Confirma eso!

00:04:56.016 --> 00:05:00.326 align:middle
Actualicemos ahora una receta
más: web-profiler-bundle.

00:05:00.916 --> 00:05:02.716 align:middle
¿Adivinas lo que ha hecho?

00:05:03.816 --> 00:05:06.926 align:middle
Añadió más configuración
específica del entorno.

00:05:07.636 --> 00:05:11.586 align:middle
Así que la configuración
de dev/web_profiler.yaml

00:05:11.816 --> 00:05:18.246 align:middle
y test/web_profiler.yaml se trasladó
a la principal web_profiler.yaml.

00:05:18.986 --> 00:05:21.536 align:middle
Lo mismo ocurrió con las rutas.

00:05:22.116 --> 00:05:28.956 align:middle
La configuración de dev se trasladó a
un nuevo config/routes/web_profiler.yaml.

00:05:29.846 --> 00:05:31.656 align:middle
Vamos a confirmarlo y...

00:05:32.076 --> 00:05:34.916 align:middle
¡uf! ¡Casi lo hemos conseguido!

00:05:34.916 --> 00:05:36.866 align:middle
¡Sólo quedan dos recetas!

00:05:37.676 --> 00:05:39.546 align:middle
Vamos a actualizarlas.

00:05:40.076 --> 00:05:44.226 align:middle
La receta WebpackEncoreBundle
también nos permitirá

00:05:44.346 --> 00:05:48.836 align:middle
actualizar nuestro JavaScript
a la nueva versión Stimulus 3
